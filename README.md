# Ari - 多智能体聊天系统

![Ari Banner](https://via.placeholder.com/800x200?text=Ari+-+Multi-Agent+Chat+System)

## 🤖 项目简介

Ari 是一个基于 **AgentScope 1.0 框架**构建的多智能体聊天系统，具备长期记忆、任务规划和子智能体协作能力。系统采用 Textual TUI 构建用户界面，为用户提供直观的交互体验。

## 🌟 核心特性

### 🧠 智能认知架构
- **ReAct Agent 实现**：基于推理-行动循环的智能决策
- **长期记忆系统**：集成 Mem0 + Qdrant 向量数据库，支持持久化记忆存储
- **主动记忆机制**：自动识别并存储对用户有价值的信息
- **单例模式设计**：确保系统中只有一个主智能体实例

### 🛠️ 强大工具集
- **文件操作**：读取、写入、插入文本文件
- **系统命令**：安全执行 Shell 命令和 Python 代码
- **动态子智能体**：按需创建专业领域的工作智能体
- **任务规划**：复杂任务自动分解为可执行步骤

### 💾 记忆与配置
- **向量存储**：Qdrant 本地向量数据库（`./memory/vector_store`）
- **嵌入缓存**：文件缓存加速重复内容处理
- **环境配置**：通过 `.env` 文件管理 API 密钥和模型设置
- **日志记录**：详细操作日志（`./logs/log.log`）

### 🎨 用户界面
- **Textual TUI**：现代化终端用户界面
- **实时状态栏**：显示系统状态和智能体数量
- **聊天窗口**：流畅的消息交互体验
- **任务列表**：可视化当前任务进度

## 📁 项目结构

```
Ari/
├── core/                 # 核心智能体实现
│   ├── main_agent.py     # 主智能体 (Ari)
│   └── planning_agent.py # 任务规划智能体
├── ui/                   # 用户界面组件
├── tools/                # 自定义工具函数
├── skill/                # AgentScope 技能库
├── config/               # 配置管理
├── memory/               # 记忆存储目录
├── logs/                 # 日志文件
├── utils/                # 工具函数
├── main.py               # 应用入口
├── pyproject.toml        # 项目依赖
└── README.md             # 项目文档
```

## ⚙️ 技术栈

- **框架**: AgentScope 1.0
- **语言**: Python 3.10+
- **LLM**: OpenAI 兼容 API (默认 gpt-4o)
- **嵌入模型**: text-embedding-3-small (1536 维度)
- **向量数据库**: Qdrant (本地存储)
- **UI 框架**: Textual
- **配置管理**: python-dotenv

## 🚀 快速开始

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd Ari
   ```

2. **配置环境变量**
   ```bash
   cp .env.example .env
   # 编辑 .env 文件，填入你的 API 密钥
   ```

3. **安装依赖**
   ```bash
   pip install -r requirements.txt
   # 或使用 uv
   uv sync
   ```

4. **启动应用**
   ```bash
   python main.py
   ```

## 🎯 设计哲学

Ari 的设计理念是 "**在交互中成长**"：
- **白纸个性**：没有预设的性格，通过真实对话自然形成
- **记忆驱动**：重视用户偏好和历史交互的长期价值
- **诚实透明**：面对限制时坦诚说明，不虚构答案
- **自然表达**：基于事实和逻辑，避免刻意的风格模仿

## 🔒 安全特性

- **工具权限控制**：所有系统操作都经过工具函数封装
- **API 密钥保护**：通过环境变量管理敏感信息
- **输入验证**：对用户输入进行安全检查
- **错误处理**：完善的异常处理和日志记录

## 📝 使用示例

**简单对话**：
> 用户：你好！
> 
> Ari：你好！我是 Ari，一个正在学习和成长的 AI 助手。很高兴认识你！

**复杂任务**：
> 用户：帮我分析一下这个项目的架构
> 
> Ari：让我先查看项目结构... [执行文件读取] → [分析依赖关系] → [生成架构图]

**记忆功能**：
> 用户：记住我喜欢喝咖啡
> 
> Ari：好的！我已经记住了你的饮品偏好。[自动存储到长期记忆]

---

*Ari - 在每次对话中学习，在每次交互中成长*